extends layout

block content
  div#davneko.davneko.hide
    
    div#filenavi.filenavi
      h1 davneko
      ul.filedepth
        li(v-repeat='path: paths') {{{path}}
        
    div#fileviewer.fileviewer
      ul.filelist(v-repeat='dirs', data-name='{{name}}', data-depth='{{depth}}')
        li.directory-header {{name}}
        li(v-repeat='file: files' class='{{file.type}}')
          i.fileicon(class='{{file | file2icon}}' v-on='click: onIconClicked')
          span.filename(v-on='click: fileOpen') {{file.name}}
          
    
    include mediaviewer

block js
  script(src='/javascripts/vue.min.js',    type='text/javascript')
  script(src='/javascripts/superagent.js', type='text/javascript')
  script(src='/javascripts/app.js',        type='text/javascript', async, defer)
